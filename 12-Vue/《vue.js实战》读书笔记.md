#  《vue.js实战》读书笔记
## 内容简介：
以vue.js2.0为基础，渐进式的学习vue。
2017年10月第一版

## 第一章 初识Vue.js
**MVVM模式：**
由MVC模式衍生，当view变化，会自更新到ViewModel中，反之亦然。View和ViewModel之间通过双向绑定建立。

传统的前端开发模式：
jquery+requireJS+artTemplate+Gulp

但后来出现了更加复杂的业务如SPA，组件解耦等。

**Vue.JS的开发模式**
使用cdn获取最新的VueJS

引入框架后，在body的底部使用new Vue（）方式创建一个实例。
对于复杂的业务逻辑，可以使用vue单文件形式配合webpack使用，必要时配合vuex管理状态，vue-router管理路由。

## 第二章 数据绑定第一个Vue应用
**Vue实例与数据绑定**
vue实例选项：
el：指定页面中已经存在的DOM元素来挂载Vue实例。CSS选择器或者是HTMLElement。

vue实例属性和方法都以$开头。
```
var app = new Vue({
    el:’#app’,
    data:{
        a: 2
    }
})

//可以通过vue实例访问数据
app.a   // 2

```



也可以指向一个已经存在的变量。

**生命周期**
常用的钩子函数：
* created  实例创建完成后调用，完成了数据观测，但尚未挂载，$el不可用。
* mounted  el挂载到实例上后调用。
* beforeDestroy。实例销毁前调用。

**插值与表达式**
使用{{ }}显示在data中的数据属性。

**注意**直接使用v-html输出内容有可能导致XSS攻击，所以一般要在服务端对用户提交的内容进行处理，<>转义。

另外
1. 使用v-pre可以跳过元素的编译。
2. 可以在{ } 使用js表达式进行简单的运算。
3. 另外只支持单个表达式，不能使用用户自定义的全局变量。

### 过滤器
Vue支持在{}插值的尾部添加管道符“（ | ）”对数据进行过滤，经常用于格式化文本，如字母全部大写等。过滤的规则是自定义的，通过给Vue实例添加选项filters来设置。

注：
1. 在新版本可以用于v-bind表达式。
2. 过滤器函数总是接受表达式之前的值。
3. 过滤器也可以串联（参数为上一个过滤器的结果），也可以接受参数（接受的参数作为第二，第三。。参数，第一参数为上一个的结构）
4. 过滤器应该用于简单的文本处理，复杂的应该使用**计算属性**。

### 指令与事件
标志：前缀 **v-**
职责是当表达式的值改变时，执行相应的行为。

~数据驱动DOM时vue的核心，不 到万不得已不要主动操作DOM~

v-on：click/dblclick/keyup/mousemove

事件的处理可以放在method中，也可以内联样式书写。

### 语法糖🍬
语法糖是指不影响功能的前提下实现同样的效果，方便程序开发。

如：
* v-bind     ：
* v-on         @


## 第三章 计算属性
  当模版内的表达式逻辑复杂使用计算属性。
  注意⚠️计算属性是定义一个新的变量，当这个变量变化（它包含的变量也包括）时就会触发函数，如果不需要新增变量使用watch。

每个计算属性默认包含一个getter和一个setter。当手动修改计算属性的值的时候，就会触发setter函数。

**技巧：**
1. 计算属性可以依赖其他计算属性
2. 计算属性不仅可以依赖当前vue实例的数据，还可以依赖其他实例的数据。

**一些区别**
1. 计算属性 vs 方法
**区别**是**计算属性是基于它们的依赖进行缓存的**。也就是说，当相关依赖未发生变化，不再执行函数，直接利用缓存返回结果。

2. 计算属性 vs 侦听属性（watch）
 使用watch可能会造成代码重复。

## 第四章 v-bind以及style的绑定
  DOM经常会动态的绑定class以及style类名，通常使用v-bind绑定。

### 绑定class的几种方式：
1. 对象语法
	1. 当逻辑复杂时可以绑定一个计算属性。
2. 数组语法
当需要应用多个类时，可以使用数组语法。
3. 也可以使用三元表达式切换class。同时可以在数组语法中嵌套对象语法。

### 绑定内联样式
使用：style可以给元素直接绑定内联 样式（注意拼接px）

**CSS使用驼峰或短横分隔命名**
绑定一个样式对象通常更好，多个对象可以使用数组。


## 第五章 内置指令
### 基本指令
v-cloak（不需要表达式）
配合display：none来隐藏未编译完成的元素。直到编译结束才会显示。
```
[v-cloak] {
    dispaly:none;
}
<div v-cloak>
    {{ message }}
</div>
```

v-once（不需要表达式）
被定义的元素只渲染一次，用于优化性能。

### 条件渲染指令
#### v-if v—else-if v-else
与if else语句类似，条件指令可以根据**表达式**的值在DOM中渲染或销毁元素/组件。

**注意**
在使用一些组件的时候，如果加载组件需要一些数据进行初始化，则首先应该让组件v-if = "false",等数据加载完成再v-if = "true"。

#### v-show
用法基本与v-if一致，但v-show改变了元素的display属性。

#### v-show 与 v-if对比
当组件需要频繁的切换时应使用**v-show**。

### 列表渲染 v-for
遍历数组：
```
<ul>
    <li v-for="(book,index) in books">{{ book.name }}</li>
</ul>
```
除了数组外，**对象**也可以遍历。
```
<li v-for="(value, key, index) in user">...</li>
```
v-for还可以迭代整数：
```
<span v-for="n in 10">{{n}}</span>
```
### 数组更新
Vue检测到数组变化时，并不是直接重新渲染整个列表，相同项不会被重新渲染。

但有两个特殊情况，Vue是不能检测到的：
1. 通过索引直接设置项。
2. 修改数组长度

解决第一个问题可以使用